{"uid":"3f7c5513f8632231","name":"test_driver_directory_lkp[lkp]","fullName":"tests.test_manual_lkp#test_driver_directory_lkp","historyId":"ee5097003b8679d23c3e1844c955f6dd","time":{"start":1742233976630,"stop":1742234015221,"duration":38591},"description":"ЛКП Тест фильтра 'Водители' в разделе справочники","descriptionHtml":"<p>ЛКП Тест фильтра 'Водители' в разделе справочники</p>\n","status":"failed","statusMessage":"AssertionError: Expected text 'Ф-20241019111829' to be present on the page, but it was not found.","statusTrace":"base_fixture = (<base.base_class.Base object at 0x000001B42E91C6E0>, <pages.sidebar.SideBar object at 0x000001B42E6F4FE0>), domain = 'com'\n\n    @allure.story(\"Extended test\")\n    @allure.feature('Фильтры')\n    @allure.description(\"ЛКП Тест фильтра 'Водители' в разделе справочники\")\n    @pytest.mark.parametrize('base_fixture', ['lkp'], indirect=True)  # Параметризация роли\n    def test_driver_directory_lkp(base_fixture, domain):\n        # Инициализация базовых объектов через фикстуру\n        base, sidebar = base_fixture\n    \n        # переход к списку водителей\n        base.move_and_click(move_to=sidebar.directories_hover, click_to=sidebar.drivers_list_button,\n                            do_assert=True, wait='lst')\n    \n        # очистка полей с выпадающими списками\n        add = Manual(base.driver)\n        add.move_to_element(add.status_in_system)\n        time.sleep(2)\n        add.click_on_the_cross(add.cross_two)\n        time.sleep(2)\n        add.move_to_element(add.status_on_flight)\n        time.sleep(2)\n        add.click_on_the_cross(add.cross_three)\n        time.sleep(2)\n    \n        # проверка фильтра \"Фамилия\"\n        add.input_in_field(add.surname_driver, value='2205347', click_first=True)\n        time.sleep(3)\n        add.verify_text_on_page(text='Ф-20241212205347', should_exist=True)\n        add.verify_text_on_page(text='Ф-20241211051656', should_exist=False)\n        time.sleep(1)\n        add.backspace_and_input(add.surname_driver, value='')\n        time.sleep(1)\n        add.input_in_field(add.surname_driver, value='Ф-20240531043410', click_first=True)\n        time.sleep(2)\n        add.find_text_on_page(text='43410', occurrences=3)\n        time.sleep(1)\n        add.backspace_and_input(add.surname_driver, value='')\n        time.sleep(1)\n    \n        # проверка №1 фильтра \"Статус в системе\"\n        add.click_and_select_with_arrows(add.status_in_system, arrow_presses=1)\n        time.sleep(3)\n        add.verify_text_on_page(text='Ф-20241210204128', should_exist=True)\n        add.verify_text_on_page(text='Ф-20241209193525', should_exist=False)\n        time.sleep(2)\n    \n        # проверка №2 фильтра \"Статус в системе\"\n        add.dropdown_without_input(add.status_in_system, option_text='Активный')\n        time.sleep(3)\n>       add.verify_text_on_page(text='Ф-20241019111829', should_exist=True)\n\ntests\\test_manual_lkp.py:120: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.manual_page.Manual object at 0x000001B42E853920>, text = 'Ф-20241019111829', should_exist = True\n\n    def verify_text_on_page(self, text: str, should_exist: bool = True) -> None:\n        \"\"\"\n        Проверяет наличие или отсутствие заданного текста на всей странице.\n    \n        Parameters\n        ----------\n        text : str\n            Текст для поиска на странице.\n        should_exist : bool, optional\n            Если True, проверяет, что текст присутствует на странице.\n            Если False, проверяет, что текст отсутствует на странице. По умолчанию True.\n    \n        Raises\n        ------\n        AssertionError\n            Если текст не найден при should_exist=True или найден при should_exist=False.\n        \"\"\"\n        # Формируем сообщение для шага Allure и вывода в консоль\n        message = f\"Verify that text '{text}' is {'present' if should_exist else 'absent'} on the page\"\n    \n        with allure.step(message):\n            page_source = self.driver.page_source\n            text_found = text in page_source\n    \n            if should_exist:\n>               assert text_found, f\"Expected text '{text}' to be present on the page, but it was not found.\"\nE               AssertionError: Expected text 'Ф-20241019111829' to be present on the page, but it was not found.\n\nbase\\base_class.py:273: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1742228670612,"stop":1742228670613,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"base_fixture","time":{"start":1742233963374,"stop":1742233976630,"duration":13256},"status":"passed","steps":[{"name":"Start test","time":{"start":1742233964481,"stop":1742233964481,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Current url: https://enter.vezubr.com/login","time":{"start":1742233968797,"stop":1742233968797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Input in user_email_input: ***","time":{"start":1742233968822,"stop":1742233968952,"duration":130},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Input in password_input: ***","time":{"start":1742233968952,"stop":1742233969048,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Click on login_button","time":{"start":1742233969049,"stop":1742233969137,"duration":88},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Click on sidebar_button","time":{"start":1742233969137,"stop":1742233976630,"duration":7493},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"domain","time":{"start":1742233963374,"stop":1742233963374,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false}],"testStage":{"description":"ЛКП Тест фильтра 'Водители' в разделе справочники","status":"failed","statusMessage":"AssertionError: Expected text 'Ф-20241019111829' to be present on the page, but it was not found.","statusTrace":"base_fixture = (<base.base_class.Base object at 0x000001B42E91C6E0>, <pages.sidebar.SideBar object at 0x000001B42E6F4FE0>), domain = 'com'\n\n    @allure.story(\"Extended test\")\n    @allure.feature('Фильтры')\n    @allure.description(\"ЛКП Тест фильтра 'Водители' в разделе справочники\")\n    @pytest.mark.parametrize('base_fixture', ['lkp'], indirect=True)  # Параметризация роли\n    def test_driver_directory_lkp(base_fixture, domain):\n        # Инициализация базовых объектов через фикстуру\n        base, sidebar = base_fixture\n    \n        # переход к списку водителей\n        base.move_and_click(move_to=sidebar.directories_hover, click_to=sidebar.drivers_list_button,\n                            do_assert=True, wait='lst')\n    \n        # очистка полей с выпадающими списками\n        add = Manual(base.driver)\n        add.move_to_element(add.status_in_system)\n        time.sleep(2)\n        add.click_on_the_cross(add.cross_two)\n        time.sleep(2)\n        add.move_to_element(add.status_on_flight)\n        time.sleep(2)\n        add.click_on_the_cross(add.cross_three)\n        time.sleep(2)\n    \n        # проверка фильтра \"Фамилия\"\n        add.input_in_field(add.surname_driver, value='2205347', click_first=True)\n        time.sleep(3)\n        add.verify_text_on_page(text='Ф-20241212205347', should_exist=True)\n        add.verify_text_on_page(text='Ф-20241211051656', should_exist=False)\n        time.sleep(1)\n        add.backspace_and_input(add.surname_driver, value='')\n        time.sleep(1)\n        add.input_in_field(add.surname_driver, value='Ф-20240531043410', click_first=True)\n        time.sleep(2)\n        add.find_text_on_page(text='43410', occurrences=3)\n        time.sleep(1)\n        add.backspace_and_input(add.surname_driver, value='')\n        time.sleep(1)\n    \n        # проверка №1 фильтра \"Статус в системе\"\n        add.click_and_select_with_arrows(add.status_in_system, arrow_presses=1)\n        time.sleep(3)\n        add.verify_text_on_page(text='Ф-20241210204128', should_exist=True)\n        add.verify_text_on_page(text='Ф-20241209193525', should_exist=False)\n        time.sleep(2)\n    \n        # проверка №2 фильтра \"Статус в системе\"\n        add.dropdown_without_input(add.status_in_system, option_text='Активный')\n        time.sleep(3)\n>       add.verify_text_on_page(text='Ф-20241019111829', should_exist=True)\n\ntests\\test_manual_lkp.py:120: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.manual_page.Manual object at 0x000001B42E853920>, text = 'Ф-20241019111829', should_exist = True\n\n    def verify_text_on_page(self, text: str, should_exist: bool = True) -> None:\n        \"\"\"\n        Проверяет наличие или отсутствие заданного текста на всей странице.\n    \n        Parameters\n        ----------\n        text : str\n            Текст для поиска на странице.\n        should_exist : bool, optional\n            Если True, проверяет, что текст присутствует на странице.\n            Если False, проверяет, что текст отсутствует на странице. По умолчанию True.\n    \n        Raises\n        ------\n        AssertionError\n            Если текст не найден при should_exist=True или найден при should_exist=False.\n        \"\"\"\n        # Формируем сообщение для шага Allure и вывода в консоль\n        message = f\"Verify that text '{text}' is {'present' if should_exist else 'absent'} on the page\"\n    \n        with allure.step(message):\n            page_source = self.driver.page_source\n            text_found = text in page_source\n    \n            if should_exist:\n>               assert text_found, f\"Expected text '{text}' to be present on the page, but it was not found.\"\nE               AssertionError: Expected text 'Ф-20241019111829' to be present on the page, but it was not found.\n\nbase\\base_class.py:273: AssertionError","steps":[{"name":"Move to directories_hover","time":{"start":1742233976630,"stop":1742233977464,"duration":834},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Click on drivers_list_button","time":{"start":1742233977565,"stop":1742233978807,"duration":1242},"status":"passed","steps":[{"name":"Assert \"Водители\" == \"Водители\"","time":{"start":1742233978807,"stop":1742233978807,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Move to status_in_system","time":{"start":1742233978807,"stop":1742233979272,"duration":465},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Clicked on clear button: cross_two","time":{"start":1742233981610,"stop":1742233981610,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Move to status_on_flight","time":{"start":1742233983610,"stop":1742233983928,"duration":318},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Clicked on clear button: cross_three","time":{"start":1742233986292,"stop":1742233986292,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Click and Input in surname_driver: 2205347","time":{"start":1742233988293,"stop":1742233988789,"duration":496},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Verify that text 'Ф-20241212205347' is present on the page","time":{"start":1742233991790,"stop":1742233991815,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Verify that text 'Ф-20241211051656' is absent on the page","time":{"start":1742233991815,"stop":1742233991840,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Backspace all times and input in surname_driver: ","time":{"start":1742233992841,"stop":1742233992963,"duration":122},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Click and Input in surname_driver: Ф-20240531043410","time":{"start":1742233993964,"stop":1742233994296,"duration":332},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Text '43410' found 3 times as expected.","time":{"start":1742233996324,"stop":1742233996324,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Backspace all times and input in surname_driver: ","time":{"start":1742233997325,"stop":1742233997509,"duration":184},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Clicked on status_in_system and selected with 1 arrow presses","time":{"start":1742234001796,"stop":1742234001796,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Verify that text 'Ф-20241210204128' is present on the page","time":{"start":1742234004796,"stop":1742234004835,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Verify that text 'Ф-20241209193525' is absent on the page","time":{"start":1742234004836,"stop":1742234004870,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Select 'Активный' from dropdown status_in_system","time":{"start":1742234006871,"stop":1742234012165,"duration":5294},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Verify that text 'Ф-20241019111829' is present on the page","time":{"start":1742234015165,"stop":1742234015221,"duration":56},"status":"failed","statusMessage":"AssertionError: Expected text 'Ф-20241019111829' to be present on the page, but it was not found.\n","statusTrace":"  File \"C:\\Users\\l2new\\PycharmProjects\\Vezubr_Autotests\\base\\base_class.py\", line 273, in verify_text_on_page\n    assert text_found, f\"Expected text '{text}' to be present on the page, but it was not found.\"\n           ^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true},{"name":"Screen taken: tests_test_manual_lkp.py_test_driver_directory_lkp[lkp]_2025.03.17.17.53.51.png","time":{"start":1742234031811,"stop":1742234031812,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"ebcc07b5a94c3a09","name":"Screenshot","source":"ebcc07b5a94c3a09.png","type":"image/png","size":243138}],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":20,"attachmentsCount":1,"shouldDisplayMessage":true},"afterStages":[{"name":"base_fixture::0","time":{"start":1742234031814,"stop":1742234033996,"duration":2182},"status":"passed","steps":[{"name":"Test finish","time":{"start":1742234031814,"stop":1742234033996,"duration":2182},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"feature","value":"Фильтры"},{"name":"story","value":"Extended test"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_manual_lkp"},{"name":"host","value":"FirexPC"},{"name":"thread","value":"22408-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_manual_lkp"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"base_fixture","value":"'lkp'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"d6bee62574e457bc","status":"failed","statusDetails":"AssertionError: Expected text 'Ф-20241019111829' to be present on the page, but it was not found.","time":{"start":1741545157892,"stop":1741545196245,"duration":38353}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"3f7c5513f8632231.json","parameterValues":["'lkp'"]}